{"version":3,"file":"index.js","sources":["../src/js/modal.js","../src/js/menu.js","../src/js/scroll_up.js","../src/js/welcome.js","../src/js/header-scroll.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  const form = document.querySelector('.subscribe-form');\n  const modalOverlay = document.querySelector('.modal-overlay');\n  const modalCloseIcon = document.querySelector('.close-icon');\n  const modalCloseBtn = document.querySelector('.modal-button');\n\n  // Відкриваємо модалку після успішної валідації\n  form.addEventListener('submit', e => {\n    e.preventDefault(); // блокуємо реальну відправку\n    if (form.checkValidity()) {\n      modalOverlay.classList.add('is-open');\n      form.reset(); // очищаємо поле після підписки (опціонально)\n    }\n  });\n\n  // Закриття модалки\n  [modalCloseIcon, modalCloseBtn].forEach(btn => {\n    btn.addEventListener('click', () => {\n      modalOverlay.classList.remove('is-open');\n    });\n  });\n\n  // Закриття по кліку на фон\n  modalOverlay.addEventListener('click', e => {\n    if (e.target === modalOverlay) {\n      modalOverlay.classList.remove('is-open');\n    }\n  });\n\n  // Закриття по Escape\n  document.addEventListener('keydown', e => {\n    if (e.key === 'Escape') {\n      modalOverlay.classList.remove('is-open');\n    }\n  });\n});\n","(() => {\n  const refs = {\n    openModalBtn: document.querySelector('[data-menu-open]'),\n    closeModalBtn: document.querySelector('[data-menu-close]'),\n    modal: document.querySelector('[data-menu]'),\n    link: document.querySelectorAll('.mobile-menu-nav-link'),\n  };\n\n  refs.openModalBtn.addEventListener('click', toggleModal);\n  refs.closeModalBtn.addEventListener('click', toggleModal);\n  refs.link.forEach(link => link.addEventListener('click', toggleModal));\n\n  function toggleModal() {\n    refs.modal.classList.toggle('is-open');\n  }\n})();\n","const scrollTopBtn = document.querySelector('.scroll-top');\r\n\r\nwindow.addEventListener('scroll', () => {\r\n  if (window.scrollY > 500) {\r\n    scrollTopBtn.classList.add('is-visible');\r\n  } else {\r\n    scrollTopBtn.classList.remove('is-visible');\r\n  }\r\n});\r\n\r\nscrollTopBtn.addEventListener('click', () => {\r\n  window.scrollTo({\r\n    top: 0,\r\n    behavior: 'smooth',\r\n  });\r\n});\r\n","window.addEventListener('load', () => {\n  const welcome = document.createElement('div');\n  welcome.className = 'welcome-screen';\n  welcome.innerHTML = `\n    <div class=\"welcome-screen-content\">\n      <h1 class=\"welcome-screen-title\">Welcome to</h1>\n      <img src=\"${import.meta.env.BASE_URL}logo.png\" width=\"542\" height=\"232\" alt=\"JoJo Coffee Logo\" class=\"welcome-logo\">\n      <p class=\"welcome-screen-text\">Savor the Essence of Specialty Coffee</p>\n    </div>\n  `;\n\n  document.body.appendChild(welcome);\n\n  const audio = new Audio(`${import.meta.env.BASE_URL}jojo-intro.mp3`);\n  audio.volume = 0.6;\n\n  // пробуємо програти одразу\n  audio.play().catch(() => {\n    // якщо браузер заблокував — програємо при першій взаємодії\n    const unlock = () => {\n      audio.play().catch(() => {});\n      window.removeEventListener('click', unlock);\n      window.removeEventListener('keydown', unlock);\n      window.removeEventListener('touchstart', unlock);\n    };\n    window.addEventListener('click', unlock, { once: true });\n    window.addEventListener('keydown', unlock, { once: true });\n    window.addEventListener('touchstart', unlock, { once: true });\n  });\n\n  setTimeout(() => {\n    welcome.classList.add('hide');\n  }, 2000);\n\n  setTimeout(() => {\n    welcome.remove();\n  }, 2000);\n});\n\n/* localStorage.removeItem(\"jojo-visited\"); - тест в DevTools */\n","(() => {\n  const header = document.querySelector('.js-header');\n  if (!header) return;\n\n  const SCROLL_OFFSET = 50;   // коли вмикати shrink\n  const HIDE_OFFSET = 120;    // після якої прокрутки дозволяти ховати\n  const DELTA = 8;            // ігнор дрібного “шевеління”\n\n  let lastY = window.scrollY;\n  let ticking = false;\n\n  function update() {\n    const y = window.scrollY;\n\n    // shrink after offset\n    header.classList.toggle('is-scrolled', y > SCROLL_OFFSET);\n\n    // ignore tiny scroll changes\n    if (Math.abs(y - lastY) < DELTA) {\n      ticking = false;\n      return;\n    }\n\n    const scrollingDown = y > lastY;\n\n    // hide only after user passed HIDE_OFFSET\n    if (y > HIDE_OFFSET && scrollingDown) {\n      header.classList.add('is-hidden');\n    } else {\n      header.classList.remove('is-hidden');\n    }\n\n    lastY = y;\n    ticking = false;\n  }\n\n  window.addEventListener(\n    'scroll',\n    () => {\n      if (!ticking) {\n        window.requestAnimationFrame(update);\n        ticking = true;\n      }\n    },\n    { passive: true }\n  );\n\n  // initial state\n  update();\n})();\n"],"names":["form","modalOverlay","modalCloseIcon","modalCloseBtn","btn","refs","toggleModal","link","scrollTopBtn","welcome","audio","unlock","header","SCROLL_OFFSET","HIDE_OFFSET","DELTA","lastY","ticking","update","y","scrollingDown"],"mappings":"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"}